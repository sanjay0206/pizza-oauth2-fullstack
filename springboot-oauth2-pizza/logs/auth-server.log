2025-05-06T22:07:20.065+05:30 INFO  [auth-server] [main] c.o.a.AuthorizationServerApplication:51 : Starting AuthorizationServerApplication using Java 17.0.11 with PID 14408 (C:\Users\sanja\eclipse-workspace\pizza-oauth2-fullstack\springboot-oauth2-pizza\authorization-server\target\classes started by sanja in C:\Users\sanja\eclipse-workspace\pizza-oauth2-fullstack\springboot-oauth2-pizza)
2025-05-06T22:07:20.076+05:30 INFO  [auth-server] [main] c.o.a.AuthorizationServerApplication:634 : No active profile set, falling back to 1 default profile: "default"
2025-05-06T22:07:22.665+05:30 INFO  [auth-server] [main] o.s.b.w.embedded.tomcat.TomcatWebServer:108 : Tomcat initialized with port(s): 9000 (http)
2025-05-06T22:07:22.679+05:30 INFO  [auth-server] [main] o.apache.coyote.http11.Http11NioProtocol:173 : Initializing ProtocolHandler ["http-nio-9000"]
2025-05-06T22:07:22.682+05:30 INFO  [auth-server] [main] o.apache.catalina.core.StandardService:173 : Starting service [Tomcat]
2025-05-06T22:07:22.683+05:30 INFO  [auth-server] [main] org.apache.catalina.core.StandardEngine:173 : Starting Servlet engine: [Apache Tomcat/10.1.10]
2025-05-06T22:07:22.854+05:30 INFO  [auth-server] [main] o.a.c.c.C.[Tomcat].[localhost].[/]:173 : Initializing Spring embedded WebApplicationContext
2025-05-06T22:07:22.856+05:30 INFO  [auth-server] [main] o.s.b.w.s.c.ServletWebServerApplicationContext:291 : Root WebApplicationContext: initialization completed in 2640 ms
2025-05-06T22:07:25.469+05:30 INFO  [auth-server] [main] o.s.s.web.DefaultSecurityFilterChain:54 : Will secure org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda$760/0x0000020281400460@23310248 with [org.springframework.security.web.session.DisableEncodeUrlFilter@c2df90e, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@41f3aaf1, org.springframework.security.web.context.SecurityContextHolderFilter@2bb41f5c, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@74667e6a, org.springframework.security.web.header.HeaderWriterFilter@4f281aaf, org.springframework.web.filter.CorsFilter@741741d0, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@236fdf, org.springframework.security.web.authentication.logout.LogoutFilter@322204dc, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@4877919f, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@794f11cd, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@58eac00e, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@52831a73, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@19da993b, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@2d7637e6, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@623e0631, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@5f61371d, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@5f9f3e58, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@733fb462, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7da635c0, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2ed9f6f8, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3c19592c, org.springframework.security.web.access.ExceptionTranslationFilter@4d93f75b, org.springframework.security.web.access.intercept.AuthorizationFilter@64e7d698, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@32227215, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@2ba42204, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@49cd946c, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@611e5819, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@4dfdfe7d]
2025-05-06T22:07:25.485+05:30 INFO  [auth-server] [main] o.s.s.web.DefaultSecurityFilterChain:54 : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@8fd91d1, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@52d0f583, org.springframework.security.web.context.SecurityContextHolderFilter@61e86192, org.springframework.security.web.header.HeaderWriterFilter@59303963, org.springframework.web.filter.CorsFilter@7fb8bad0, org.springframework.security.web.authentication.logout.LogoutFilter@45a1d057, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@4315c28c, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@4b033eac, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@12d40609, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@34330f77, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1320e68a, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@76437e9b, org.springframework.security.web.access.ExceptionTranslationFilter@49edcb30, org.springframework.security.web.access.intercept.AuthorizationFilter@385d819]
2025-05-06T22:07:25.912+05:30 INFO  [auth-server] [main] o.apache.coyote.http11.Http11NioProtocol:173 : Starting ProtocolHandler ["http-nio-9000"]
2025-05-06T22:07:25.964+05:30 INFO  [auth-server] [main] o.s.b.w.embedded.tomcat.TomcatWebServer:220 : Tomcat started on port(s): 9000 (http) with context path ''
2025-05-06T22:07:25.981+05:30 INFO  [auth-server] [main] c.o.a.AuthorizationServerApplication:57 : Started AuthorizationServerApplication in 7.281 seconds (process running for 8.128)
2025-05-06T22:07:41.413+05:30 INFO  [auth-server] [http-nio-9000-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]:173 : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-05-06T22:07:41.414+05:30 INFO  [auth-server] [http-nio-9000-exec-1] o.s.web.servlet.DispatcherServlet:532 : Initializing Servlet 'dispatcherServlet'
2025-05-06T22:07:41.415+05:30 INFO  [auth-server] [http-nio-9000-exec-1] o.s.web.servlet.DispatcherServlet:554 : Completed initialization in 1 ms
2025-05-06T22:07:41.438+05:30 DEBUG [auth-server] [http-nio-9000-exec-1] o.s.security.web.FilterChainProxy:223 : Securing GET /oauth2/authorize?response_type=code&client_id=pizza-client&redirect_uri=http%3A%2F%2Flocalhost%3A5173%2Fcallback&scope=api.read%20openid
2025-05-06T22:07:41.501+05:30 DEBUG [auth-server] [http-nio-9000-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter:119 : Set SecurityContextHolder to anonymous SecurityContext
2025-05-06T22:07:41.537+05:30 DEBUG [auth-server] [http-nio-9000-exec-1] o.s.s.w.s.HttpSessionRequestCache:78 : Saved request http://localhost:9000/oauth2/authorize?response_type=code&client_id=pizza-client&redirect_uri=http%3A%2F%2Flocalhost%3A5173%2Fcallback&scope=api.read%20openid&continue to session
2025-05-06T22:07:41.545+05:30 DEBUG [auth-server] [http-nio-9000-exec-1] o.s.s.w.a.DelegatingAuthenticationEntryPoint:79 : Trying to match using Or [org.springframework.security.config.annotation.web.configurers.oauth2.server.resource.OAuth2ResourceServerConfigurer$BearerTokenRequestMatcher@5d1b1c2a, RequestHeaderRequestMatcher [expectedHeaderName=X-Requested-With, expectedHeaderValue=XMLHttpRequest], And [Not [MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@437f0077, matchingMediaTypes=[text/html], useEquals=false, ignoredMediaTypes=[]]], MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@437f0077, matchingMediaTypes=[application/atom+xml, application/x-www-form-urlencoded, application/json, application/octet-stream, application/xml, multipart/form-data, text/xml], useEquals=false, ignoredMediaTypes=[*/*]]], MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@437f0077, matchingMediaTypes=[*/*], useEquals=true, ignoredMediaTypes=[]]]
2025-05-06T22:07:41.550+05:30 DEBUG [auth-server] [http-nio-9000-exec-1] o.s.s.w.a.DelegatingAuthenticationEntryPoint:79 : Trying to match using And [Not [RequestHeaderRequestMatcher [expectedHeaderName=X-Requested-With, expectedHeaderValue=XMLHttpRequest]], MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@437f0077, matchingMediaTypes=[application/xhtml+xml, image/*, text/html, text/plain], useEquals=false, ignoredMediaTypes=[*/*]]]
2025-05-06T22:07:41.552+05:30 DEBUG [auth-server] [http-nio-9000-exec-1] o.s.s.w.a.DelegatingAuthenticationEntryPoint:82 : Match found! Executing org.springframework.security.web.authentication.LoginUrlAuthenticationEntryPoint@67f63d26
2025-05-06T22:07:41.554+05:30 DEBUG [auth-server] [http-nio-9000-exec-1] o.s.security.web.DefaultRedirectStrategy:56 : Redirecting to http://localhost:9000/login
2025-05-06T22:07:41.566+05:30 DEBUG [auth-server] [http-nio-9000-exec-2] o.s.security.web.FilterChainProxy:223 : Securing GET /login
2025-05-06T22:07:47.147+05:30 DEBUG [auth-server] [http-nio-9000-exec-5] o.s.security.web.FilterChainProxy:223 : Securing POST /login
2025-05-06T22:07:47.304+05:30 DEBUG [auth-server] [http-nio-9000-exec-5] o.s.s.a.dao.DaoAuthenticationProvider:199 : Authenticated user
2025-05-06T22:07:47.306+05:30 DEBUG [auth-server] [http-nio-9000-exec-5] o.s.s.w.a.s.ChangeSessionIdAuthenticationStrategy:98 : Changed session id from 1C44533A86D934C6B9A63E26707D7BFC
2025-05-06T22:07:47.307+05:30 DEBUG [auth-server] [http-nio-9000-exec-5] o.s.s.w.c.HttpSessionSecurityContextRepository:178 : Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=user, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=1C44533A86D934C6B9A63E26707D7BFC], Granted Authorities=[ROLE_USER]]] to HttpSession [org.apache.catalina.session.StandardSessionFacade@4a99bde3]
2025-05-06T22:07:47.308+05:30 DEBUG [auth-server] [http-nio-9000-exec-5] o.s.s.w.a.UsernamePasswordAuthenticationFilter:327 : Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=user, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=1C44533A86D934C6B9A63E26707D7BFC], Granted Authorities=[ROLE_USER]]
2025-05-06T22:07:47.308+05:30 DEBUG [auth-server] [http-nio-9000-exec-5] o.s.security.web.DefaultRedirectStrategy:56 : Redirecting to http://localhost:9000/oauth2/authorize?response_type=code&client_id=pizza-client&redirect_uri=http%3A%2F%2Flocalhost%3A5173%2Fcallback&scope=api.read%20openid&continue
2025-05-06T22:07:47.312+05:30 DEBUG [auth-server] [http-nio-9000-exec-7] o.s.security.web.FilterChainProxy:223 : Securing GET /oauth2/authorize?response_type=code&client_id=pizza-client&redirect_uri=http%3A%2F%2Flocalhost%3A5173%2Fcallback&scope=api.read%20openid&continue
2025-05-06T22:07:47.313+05:30 DEBUG [auth-server] [http-nio-9000-exec-7] o.s.s.w.c.HttpSessionSecurityContextRepository:234 : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=user, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=1C44533A86D934C6B9A63E26707D7BFC], Granted Authorities=[ROLE_USER]]]
2025-05-06T22:07:47.325+05:30 DEBUG [auth-server] [http-nio-9000-exec-7] o.s.s.core.session.SessionRegistryImpl:136 : Registering session 2030E610E4A38DBC1248546AB4EA3F1D, for principal org.springframework.security.core.userdetails.User [Username=user, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_USER]]
2025-05-06T22:07:47.325+05:30 DEBUG [auth-server] [http-nio-9000-exec-7] o.s.security.web.DefaultRedirectStrategy:56 : Redirecting to http://localhost:5173/callback?code=oFQCK0n9FGl3hWf0nH_qHab4-GJ6cWo0NbxbBShhqIaeV4ANRJ92zRz_lfNwvJDJ9zkDFWOxhKhn9N80r1TENkxajpP8KUJ0bNfbghRQ35nSZeQZACnNkwywCAwgdpxQ
2025-05-06T22:07:49.534+05:30 DEBUG [auth-server] [http-nio-9000-exec-6] o.s.security.web.FilterChainProxy:223 : Securing OPTIONS /oauth2/token
2025-05-06T22:07:49.552+05:30 DEBUG [auth-server] [http-nio-9000-exec-8] o.s.security.web.FilterChainProxy:223 : Securing POST /oauth2/token
2025-05-06T22:07:49.632+05:30 DEBUG [auth-server] [http-nio-9000-exec-8] o.s.s.o.s.a.w.OAuth2ClientAuthenticationFilter:175 : Set SecurityContextHolder authentication to OAuth2ClientAuthenticationToken
2025-05-06T22:07:54.168+05:30 DEBUG [auth-server] [http-nio-9000-exec-2] o.s.security.web.FilterChainProxy:223 : Securing OPTIONS /userinfo
2025-05-06T22:07:54.172+05:30 DEBUG [auth-server] [http-nio-9000-exec-3] o.s.security.web.FilterChainProxy:223 : Securing GET /userinfo
2025-05-06T22:07:54.186+05:30 INFO  [auth-server] [http-nio-9000-exec-3] c.o.a.security.JwtAuthConverter:32 : authorities: [SCOPE_openid, SCOPE_api.read, ROLE_USER]
2025-05-06T22:07:54.188+05:30 DEBUG [auth-server] [http-nio-9000-exec-3] o.s.s.o.s.r.a.JwtAuthenticationProvider:93 : Authenticated token
2025-05-06T22:07:54.189+05:30 DEBUG [auth-server] [http-nio-9000-exec-3] o.s.s.o.s.r.w.a.BearerTokenAuthenticationFilter:143 : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@43133234, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[SCOPE_openid, SCOPE_api.read, ROLE_USER]]
2025-05-06T22:07:54.425+05:30 DEBUG [auth-server] [http-nio-9000-exec-4] o.s.security.web.FilterChainProxy:223 : Securing GET /oauth2/jwks
